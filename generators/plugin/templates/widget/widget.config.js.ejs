(() => {
  'use strict';

  angular.module('<%= moduleName %>').config(configure);

  /* @ngInject */
  function configure(c8yComponentsProvider, gettext) {
    c8yComponentsProvider.add({
      name: '<%= camelCasedWidgetName %>',
      nameDisplay: gettext('<%= capitalizedWidgetName %>'),
      description: gettext('<%- widgetDesc %>'),
      <%- legacy ? "templateUrl: ':::PLUGIN_PATH:::/main.html'," : `widgetComponent: '${widgetComponentName}',` %>
      <%- legacy ? "configTemplateUrl: ':::PLUGIN_PATH:::/config.html'," : `configComponent: '${widgetConfigComponentName}',` %>
      options: {
        noDeviceTarget: false,
        noNewWidgets: false,
        deviceTargetNotRequired: false,
        groupsSelectable: false
      }
    });
  }
})();

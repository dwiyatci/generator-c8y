(() => {
  'use strict';

  angular.module('<%= moduleName %>').directive('<%= widgetConfigComponentName %>', chartWidgetConfig);

  function chartWidgetConfig() {
    'ngInject';

    const ddo = {
      restrict: 'E',
      templateUrl: ':::PLUGIN_PATH:::/widget-config.html',
      scope: {
        config: '<'
      },
      controllerAs: 'vm',
      controller: Controller,
      bindToController: true
    };

    return ddo;
  }

  function Controller($scope) {
    'ngInject';

    const vm = this;

    activate();

    $scope.$watch('vm.config', onConfigChange);
    $scope.$watch('vm.config.device', onDeviceChange);

    ////////////

    function activate() {}

    function onConfigChange(config) {
      if (config) {
        console.dir(config);
      }
    }

    function onDeviceChange(device) {
      if (device) {
        console.dir(device);
      }
    }
  }
})();
